# Core AI unified environment template
# Single source of truth for local Docker, production, and swarm-like deployments.
# Copy and customize:
#   cp .env.example .env

# =============================================================================
# P0 - REQUIRED (must set for non-trivial environments)
# =============================================================================

# Domain / public routing
DOMAIN=localhost

# Core secrets
POSTGRES_PASSWORD=replace_with_strong_password
BETTER_AUTH_SECRET=replace_with_long_random_secret_min_32_chars
AGENT_SECRET=replace_with_random_agent_secret

# Core provider keys (minimum voice stack)
OPENROUTER_API_KEY=
OPENAI_API_KEY=
DEEPGRAM_API_KEY=


# =============================================================================
# P1 - HIGH PRIORITY (recommended in most deployments)
# =============================================================================

# Additional provider keys
ELEVENLABS_API_KEY=
SARVAM_API_KEY=

# Auth web settings
BETTER_AUTH_URL=http://localhost:3000
BETTER_AUTH_TRUSTED_ORIGINS=

# Orchestrator / frontend routing
NEXT_PUBLIC_ORCHESTRATOR_URL=
CORS_ORIGINS=http://localhost:3000

# Image namespace (prod CI/CD)
DOCKERHUB_USERNAME=yourdockerhubuser


# =============================================================================
# P2 - AGENT PROVISIONING AND INFRASTRUCTURE
# =============================================================================

# Optional unified DB URL. If empty, compose defaults are used.
DATABASE_URL=

# Dynamic agent spawn settings
AGENT_IMAGE=aether-agent:latest
AGENT_NETWORK=core-ai_default
AGENT_IDLE_TIMEOUT=30
AGENT_DEV_ROOT=
AETHER_LOCAL_AGENT_URL=

# Shared model cache mount paths
AGENT_SHARED_MODELS_HOST_PATH=./.cache/models
AGENT_SHARED_MODELS_ORCH_PATH=/shared-models
AGENT_SHARED_MODELS_CONTAINER_PATH=/models


# =============================================================================
# P3 - OPTIONAL PLUGIN INTEGRATIONS
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Spotify OAuth
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=


# =============================================================================
# P4 - AGENT RUNTIME DEFAULTS
# =============================================================================

# Core runtime
AETHER_HOST=0.0.0.0
AETHER_PORT=8000
AETHER_DB_PATH=aether_memory.db
AETHER_WORKING_DIR=/workspace

# STT
AETHER_STT_PROVIDER=deepgram
AETHER_STT_MODEL=nova-3
AETHER_STT_LANGUAGE=en
AETHER_STT_SAMPLE_RATE=16000
AETHER_STT_ENCODING=linear16
AETHER_STT_UTTERANCE_END_MS=1200
AETHER_STT_ENDPOINTING_MS=300
AETHER_STT_RECONNECT_ATTEMPTS=5
AETHER_STT_RECONNECT_DELAY=1.0
AETHER_STT_PRE_ROLL_MS=500
AETHER_STT_IDLE_DISCONNECT_S=5.0

# LLM
AETHER_LLM_PROVIDER=openai
AETHER_LLM_MODEL=gpt-4o
AETHER_LLM_VOICE_MODEL=gpt-4o-mini
AETHER_LLM_MAX_TOKENS=500
AETHER_LLM_TEMPERATURE=0.7
AETHER_LLM_MAX_HISTORY_TURNS=20
OPENAI_BASE_URL=https://openrouter.ai/api/v1

# TTS
AETHER_TTS_PROVIDER=openai
AETHER_TTS_MODEL=tts-1
AETHER_TTS_VOICE=nova
AETHER_TTS_TIMEOUT=15.0

# Sarvam TTS options
AETHER_SARVAM_MODEL=bulbul:v3
AETHER_SARVAM_SPEAKER=shubh
AETHER_SARVAM_LANGUAGE=en-IN
AETHER_SARVAM_SAMPLE_RATE=24000

# Memory / persistence
AETHER_EMBEDDING_DIM=1536
AETHER_MEMORY_THRESHOLD=0.3
AETHER_MEMORY_SEARCH_LIMIT=5
AETHER_ACTION_RETENTION_DAYS=7
AETHER_SESSION_SUMMARY_LIMIT=3
AETHER_ACTION_OUTPUT_MAX_CHARS=1000

# Agent behavior
AETHER_BASE_STYLE=default
AETHER_CUSTOM_INSTRUCTIONS=
AETHER_WS_SEND_TIMEOUT=5.0
AETHER_DEBOUNCE_DELAY=0.3

# Kernel tuning
AETHER_KERNEL_WORKERS_INTERACTIVE=2
AETHER_KERNEL_WORKERS_BACKGROUND=2
AETHER_INTERACTIVE_QUEUE_LIMIT=20
AETHER_BACKGROUND_QUEUE_LIMIT=50


# =============================================================================
# P5 - VOICE ACTIVITY + TURN DETECTION
# =============================================================================

# Runtime VAD
AETHER_VAD_MODE=active
AETHER_VAD_MODEL_PATH=
AETHER_VAD_SAMPLE_RATE=16000
AETHER_VAD_ACTIVATION_THRESHOLD=0.5
AETHER_VAD_DEACTIVATION_THRESHOLD=0.35
AETHER_VAD_MIN_SPEECH_DURATION=0.05
AETHER_VAD_MIN_SILENCE_DURATION=0.55

# Runtime turn detector
AETHER_TURN_DETECTION_MODE=active
AETHER_TURN_MODEL_TYPE=en
AETHER_TURN_MODEL_REPO=livekit/turn-detector
AETHER_TURN_MODEL_REVISION=v1.2.2-en
AETHER_TURN_MODEL_FILENAME=model.onnx
AETHER_TURN_MODEL_DIR=/models/turn-detector
AETHER_TURN_MODEL_RELATIVE_DIR=turn-detector
AETHER_TURN_MODEL_FILES=onnx/model.onnx,languages.json,tokenizer.json,tokenizer_config.json,special_tokens_map.json,added_tokens.json,merges.txt,vocab.json
AETHER_TURN_MIN_ENDPOINTING_DELAY=0.5
AETHER_TURN_MAX_ENDPOINTING_DELAY=3.0
AETHER_TURN_INFERENCE_TIMEOUT_SECONDS=2.0

# Orchestrator bootstrap defaults for spawned agents
AETHER_VAD_MODE_DEFAULT=active
AETHER_VAD_MODEL_RELATIVE_PATH=silero/silero_vad.onnx
AETHER_VAD_MODEL_URL=
AETHER_VAD_MODEL_SHA256=
AETHER_TURN_DETECTION_MODE_DEFAULT=active


# =============================================================================
# P6 - WEBRTC / TELEPHONY / ADVANCED
# =============================================================================

# WebRTC
AETHER_WEBRTC_SESSION_TTL=600
AETHER_WEBRTC_DISCONNECT_GRACE=10
WEBRTC_STUN_URL=stun:stun.l.google.com:19302
WEBRTC_TURN_URL=
WEBRTC_TURN_USERNAME=
WEBRTC_TURN_CREDENTIAL=
AETHER_AGENT_HOST=

# Telephony (optional)
AETHER_TELEPHONY_ENABLED=false
AETHER_TELEPHONY_PROVIDER=twilio
AETHER_TELEPHONY_SAMPLE_RATE=8000
AETHER_TELEPHONY_ENCODING=mulaw
VOBIZ_AUTH_ID=
VOBIZ_AUTH_TOKEN=
VOBIZ_FROM_NUMBER=
AETHER_USER_PHONE_NUMBER=

# Logging
AETHER_LOG_COLOR=auto
AETHER_LOG_LEVEL=INFO
AETHER_LOG_FORMAT=text
